提供制作私有仓库的环境

#### 一、build 镜像

```
$ docker build -t reprepro .
```

build环境中已包含制作仓库的keys.

#### 二、ubuntu 仓库

制作ubuntu私有仓库,可参考conf目录的配置文件.



配置文件:

```
$ cat conf/ceph/10.2.10-2/conf/distributions 
Origin:		ceph               # 你的名字
Label:		ceph               # 库的名字
Suite:		jewel              # 版本名称
Codename:	jewel
Version:   10.2.10-2          # 版本号
Architectures:	amd64   i386         # 软件包所支持的架构， 比如 i386 或 amd64
Components:	main               # 包含的部件，比如 main restricted universe multiverse
Description:	private main deb repository
SignWith:	default

$ cat conf/ceph/10.2.10-2/conf/options 
verbose
basedir  .
ask-passphrase
distdir  /optput/ceph/10.2.10-2/dists
outdir   /optput/ceph/10.2.10-2         # 制作好的仓库存放目录
```

运行容器:

```
$ docker run -it -v conf目录:/conf -v deb包目录:/pkgs -v 保存仓库的目录:/output/ reprepro bash
```

制作仓库(容器中运行):

```
$ reprepro --ask-passphrase -Vb /conf/ceph/10.2.10/ export
$ reprepro -b /conf/ceph/10.2.10/ -C main includedeb jewel /pkgs/*.deb
$ cp /keys/public.key /output/ceph/10.2.10-2/public.key
```

编写source.list文件，如:

```
deb http://192.168.1.253/mirrors/ubuntu/ceph/10.2.10-2/ jewel main
deb http://192.168.1.253/mirrors/ubuntu/saltstack/20171103/ trusty main
deb http://192.168.1.253/mirrors/ubuntu/zabbix/3.2/ trusty main
```


发布包要求:

	* 将仓库拷贝到 /var/www/html/mirrors/ubuntu/ceph/10.2.10-2/目录
	* 提供example.list文件
		deb http://127.0.0.1/mirrors/ubuntu/ceph/10.2.10-2/ jewel main
	* 将源包拷贝到 /var/www/html/mirrors/ubuntu/ceph/10.2.10-2/目录
